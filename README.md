# KKAPE Gearbox

ä¸€ä¸ªåŸºäº Rust + Tauri 2 + Vue3 çš„ç°ä»£åŒ–å·¥å…·é›†åˆå¹³å°ï¼Œé‡‡ç”¨å¾®å‰ç«¯æ’ä»¶æ¶æ„ã€‚

## ğŸš€ ç‰¹æ€§

- **æ’ä»¶éš”ç¦»**: æ¯ä¸ªå·¥å…·ç‹¬ç«‹è¿è¡Œï¼Œå•ä¸ªå·¥å…·å´©æºƒä¸å½±å“ä¸»ç¨‹åº
- **ç°ä»£ç•Œé¢**: Vue3 + Naive UI + UnoCSSï¼Œç»Ÿä¸€è®¾è®¡ç³»ç»Ÿ
- **æ˜“æ‰©å±•**: åŸºäº Tauri Plugin çš„æ’ä»¶ç³»ç»Ÿï¼Œæ”¯æŒçƒ­æ’æ‹”
- **è·¨å¹³å°**: æ”¯æŒ Windowsã€macOSã€Linux
- **è‡ªåŠ¨æ›´æ–°**: å†…ç½®å¢é‡æ›´æ–°æœºåˆ¶

## ğŸ—ï¸ æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        App Shell (Rust)      â”‚ â‘  ä¸»çª—å£/èœå•/æ’ä»¶è°ƒåº¦
â”‚  â€¢ Tauri Core & Updater      â”‚
â”‚  â€¢ Global Event Bus (IPC)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Plugin Runtime Layer   â”‚ â‘¡ æ¯ä¸ªæ’ä»¶å„è‡ªä¸ºæ”¿
â”‚  â€¢ Rust Crate (tauri-plugin)â”‚
â”‚  â€¢ Optional WASM module    â”‚
â”‚  â€¢ JS/TS API Bindings      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚  invoke/emit
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Micro Front-end (UI)    â”‚ â‘¢ Vue3 SPA
â”‚  â€¢ Vite + Module Federationâ”‚
â”‚  â€¢ Naive UI + UnoCSS       â”‚
â”‚  â€¢ @vueuse/motion          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
kkape-gearbox/
â”œâ”€ apps/
â”‚  â””â”€ shell/             # Tauri ä¸»åº”ç”¨
â”œâ”€ plugins/
â”‚  â”œâ”€ logger/            # æ—¥å¿—å·¥å…·æ’ä»¶
â”‚  â”œâ”€ influx-client/     # InfluxDB å®¢æˆ·ç«¯æ’ä»¶
â”‚  â””â”€ ...
â”œâ”€ ui/
â”‚  â”œâ”€ shell/             # ä¸»ç•Œé¢
â”‚  â”œâ”€ tool-logger/       # æ—¥å¿—å·¥å…· UI
â”‚  â”œâ”€ tool-influx/       # InfluxDB å·¥å…· UI
â”‚  â””â”€ shared-design/     # å…±äº«è®¾è®¡ç³»ç»Ÿ
â”œâ”€ scripts/
â”‚  â”œâ”€ build.js           # æ„å»ºè„šæœ¬
â”‚  â””â”€ release.js         # å‘å¸ƒè„šæœ¬
â””â”€ docs/                 # æ–‡æ¡£
```

## ğŸ› ï¸ å¼€å‘ç¯å¢ƒ

### å‰ç½®è¦æ±‚

- Rust 1.70+
- Node.js 18+
- pnpm 8+

### å¿«é€Ÿå¼€å§‹

```bash
# 1. å…‹éš†é¡¹ç›®
git clone <repository-url>
cd kkape-gearbox

# 2. ç¯å¢ƒè®¾ç½®
pnpm setup

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev
```

### å¸¸ç”¨å‘½ä»¤

```bash
# å¼€å‘
pnpm dev              # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm build            # æ„å»ºåº”ç”¨
pnpm test             # è¿è¡Œæµ‹è¯•

# æ’ä»¶å¼€å‘
pnpm create:plugin    # åˆ›å»ºæ–°æ’ä»¶
pnpm create:ui        # åˆ›å»ºæ’ä»¶ UI

# ç‰ˆæœ¬ç®¡ç†å’Œè‡ªåŠ¨å‘å¸ƒ
pnpm bump:patch       # å‡çº§è¡¥ä¸ç‰ˆæœ¬ (0.1.0 -> 0.1.1)
pnpm bump:minor       # å‡çº§æ¬¡ç‰ˆæœ¬ (0.1.0 -> 0.2.0)
pnpm bump:major       # å‡çº§ä¸»ç‰ˆæœ¬ (0.1.0 -> 1.0.0)
pnpm release          # è‡ªåŠ¨å‘å¸ƒ (æ¨é€å GitHub Actions è‡ªåŠ¨æ„å»º)
```

## ğŸ“¦ æ’ä»¶å¼€å‘

### åˆ›å»ºæ–°æ’ä»¶

```bash
# åˆ›å»º Rust æ’ä»¶
pnpm create:plugin <plugin-name>

# åˆ›å»ºå¯¹åº”çš„ UI
pnpm create:ui <plugin-name>
```

### æ’ä»¶ç»“æ„

æ¯ä¸ªæ’ä»¶åŒ…å«ï¼š
- Rust crate (`plugins/<name>/`)
- Vue3 å¾®å‰ç«¯ (`ui/tool-<name>/`)
- TypeScript ç±»å‹å®šä¹‰

## ğŸ¨ è®¾è®¡ç³»ç»Ÿ

åŸºäº Naive UI + UnoCSSï¼Œæä¾›ï¼š
- ç»Ÿä¸€çš„é¢œè‰²ç³»ç»Ÿ
- å“åº”å¼å¸ƒå±€
- æš—é»‘æ¨¡å¼æ”¯æŒ
- åŠ¨ç”»æ•ˆæœ

## ğŸš€ è‡ªåŠ¨åŒ–å‘å¸ƒ

é¡¹ç›®æ”¯æŒåŸºäºç‰ˆæœ¬å˜æ›´çš„è‡ªåŠ¨åŒ–å‘å¸ƒæµç¨‹ï¼š

### å¿«é€Ÿå‘å¸ƒ
```bash
# 1. å‡çº§ç‰ˆæœ¬
pnpm bump:patch  # æˆ– minor/major

# 2. ç¼–è¾‘ CHANGELOG.md æ·»åŠ å˜æ›´å†…å®¹

# 3. ä¸€é”®å‘å¸ƒ
pnpm release
```

### è‡ªåŠ¨åŒ–æµç¨‹
å½“ `package.json` ç‰ˆæœ¬å˜æ›´æ¨é€åˆ° GitHub æ—¶ï¼Œä¼šè‡ªåŠ¨ï¼š
- ğŸ·ï¸ åˆ›å»º Git æ ‡ç­¾
- ğŸ”¨ æ„å»ºå¤šå¹³å°åº”ç”¨åŒ… (Windows/macOS/Linux)
- ğŸ“¦ åˆ›å»º GitHub Release
- â¬†ï¸ ä¸Šä¼ æ‰€æœ‰æ„å»ºäº§ç‰©

è¯¦ç»†è¯´æ˜è¯·å‚è€ƒ [è‡ªåŠ¨åŒ–å‘å¸ƒæ–‡æ¡£](docs/AUTO_RELEASE.md)

## ğŸ“„ è®¸å¯è¯

MIT License
